.include "macros.inc"

.section .text, "ax"  # 0x80039220 - 0x804F5900

.global ARCInitHandle
ARCInitHandle:
/* 802D1670 0029AC30  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 802D1674 0029AC34  7C 08 02 A6 */	mflr r0
/* 802D1678 0029AC38  90 01 00 14 */	stw r0, 0x14(r1)
/* 802D167C 0029AC3C  93 E1 00 0C */	stw r31, 0xc(r1)
/* 802D1680 0029AC40  7C 9F 23 78 */	mr r31, r4
/* 802D1684 0029AC44  93 C1 00 08 */	stw r30, 8(r1)
/* 802D1688 0029AC48  7C 7E 1B 78 */	mr r30, r3
/* 802D168C 0029AC4C  80 A3 00 00 */	lwz r5, 0(r3)
/* 802D1690 0029AC50  3C 05 AA 56 */	addis r0, r5, 0xaa56
/* 802D1694 0029AC54  28 00 38 2D */	cmplwi r0, 0x382d
/* 802D1698 0029AC58  41 82 00 1C */	beq lbl_802D16B4
/* 802D169C 0029AC5C  3C A0 80 54 */	lis r5, lbl_80540000@ha
/* 802D16A0 0029AC60  38 6D 97 28 */	addi r3, r13, lbl_806658A8@sda21
/* 802D16A4 0029AC64  38 A5 00 00 */	addi r5, r5, lbl_80540000@l
/* 802D16A8 0029AC68  38 80 00 4A */	li r4, 0x4a
/* 802D16AC 0029AC6C  4C C6 31 82 */	crclr 6
/* 802D16B0 0029AC70  48 21 CD E5 */	bl OSPanic
lbl_802D16B4:
/* 802D16B4 0029AC74  93 DF 00 00 */	stw r30, 0(r31)
/* 802D16B8 0029AC78  38 00 00 00 */	li r0, 0
/* 802D16BC 0029AC7C  38 60 00 01 */	li r3, 1
/* 802D16C0 0029AC80  80 9E 00 04 */	lwz r4, 4(r30)
/* 802D16C4 0029AC84  7C BE 22 14 */	add r5, r30, r4
/* 802D16C8 0029AC88  90 BF 00 04 */	stw r5, 4(r31)
/* 802D16CC 0029AC8C  80 9E 00 0C */	lwz r4, 0xc(r30)
/* 802D16D0 0029AC90  7C 9E 22 14 */	add r4, r30, r4
/* 802D16D4 0029AC94  90 9F 00 08 */	stw r4, 8(r31)
/* 802D16D8 0029AC98  80 85 00 08 */	lwz r4, 8(r5)
/* 802D16DC 0029AC9C  90 9F 00 0C */	stw r4, 0xc(r31)
/* 802D16E0 0029ACA0  1C 84 00 0C */	mulli r4, r4, 0xc
/* 802D16E4 0029ACA4  7C 85 22 14 */	add r4, r5, r4
/* 802D16E8 0029ACA8  90 9F 00 10 */	stw r4, 0x10(r31)
/* 802D16EC 0029ACAC  80 9E 00 08 */	lwz r4, 8(r30)
/* 802D16F0 0029ACB0  90 9F 00 14 */	stw r4, 0x14(r31)
/* 802D16F4 0029ACB4  90 1F 00 18 */	stw r0, 0x18(r31)
/* 802D16F8 0029ACB8  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 802D16FC 0029ACBC  83 C1 00 08 */	lwz r30, 8(r1)
/* 802D1700 0029ACC0  80 01 00 14 */	lwz r0, 0x14(r1)
/* 802D1704 0029ACC4  7C 08 03 A6 */	mtlr r0
/* 802D1708 0029ACC8  38 21 00 10 */	addi r1, r1, 0x10
/* 802D170C 0029ACCC  4E 80 00 20 */	blr 

.global func_802D1710
func_802D1710:
/* 802D1710 0029ACD0  94 21 FF 60 */	stwu r1, -0xa0(r1)
/* 802D1714 0029ACD4  7C 08 02 A6 */	mflr r0
/* 802D1718 0029ACD8  90 01 00 A4 */	stw r0, 0xa4(r1)
/* 802D171C 0029ACDC  39 61 00 A0 */	addi r11, r1, 0xa0
/* 802D1720 0029ACE0  4B FE 8A 31 */	bl _savegpr_26
/* 802D1724 0029ACE4  83 83 00 04 */	lwz r28, 4(r3)
/* 802D1728 0029ACE8  7C 7A 1B 78 */	mr r26, r3
/* 802D172C 0029ACEC  7C 9B 23 78 */	mr r27, r4
/* 802D1730 0029ACF0  7C BD 2B 78 */	mr r29, r5
/* 802D1734 0029ACF4  48 00 02 DD */	bl ARCConvertPathToEntrynum
/* 802D1738 0029ACF8  2C 03 00 00 */	cmpwi r3, 0
/* 802D173C 0029ACFC  40 80 02 34 */	bge lbl_802D1970
/* 802D1740 0029AD00  83 BA 00 18 */	lwz r29, 0x18(r26)
/* 802D1744 0029AD04  83 9A 00 04 */	lwz r28, 4(r26)
/* 802D1748 0029AD08  2C 1D 00 00 */	cmpwi r29, 0
/* 802D174C 0029AD0C  40 82 00 0C */	bne lbl_802D1758
/* 802D1750 0029AD10  38 80 00 00 */	li r4, 0
/* 802D1754 0029AD14  48 00 01 A4 */	b lbl_802D18F8
lbl_802D1758:
/* 802D1758 0029AD18  1C 1D 00 0C */	mulli r0, r29, 0xc
/* 802D175C 0029AD1C  80 FA 00 10 */	lwz r7, 0x10(r26)
/* 802D1760 0029AD20  7C 7C 02 14 */	add r3, r28, r0
/* 802D1764 0029AD24  7C 1C 00 2E */	lwzx r0, r28, r0
/* 802D1768 0029AD28  80 63 00 04 */	lwz r3, 4(r3)
/* 802D176C 0029AD2C  54 00 02 3E */	clrlwi r0, r0, 8
/* 802D1770 0029AD30  2C 03 00 00 */	cmpwi r3, 0
/* 802D1774 0029AD34  7F C7 02 14 */	add r30, r7, r0
/* 802D1778 0029AD38  40 82 00 0C */	bne lbl_802D1784
/* 802D177C 0029AD3C  38 80 00 00 */	li r4, 0
/* 802D1780 0029AD40  48 00 01 18 */	b lbl_802D1898
lbl_802D1784:
/* 802D1784 0029AD44  1C 03 00 0C */	mulli r0, r3, 0xc
/* 802D1788 0029AD48  7C 7C 02 14 */	add r3, r28, r0
/* 802D178C 0029AD4C  7C 1C 00 2E */	lwzx r0, r28, r0
/* 802D1790 0029AD50  80 63 00 04 */	lwz r3, 4(r3)
/* 802D1794 0029AD54  54 00 02 3E */	clrlwi r0, r0, 8
/* 802D1798 0029AD58  2C 03 00 00 */	cmpwi r3, 0
/* 802D179C 0029AD5C  7F E7 02 14 */	add r31, r7, r0
/* 802D17A0 0029AD60  40 82 00 0C */	bne lbl_802D17AC
/* 802D17A4 0029AD64  38 80 00 00 */	li r4, 0
/* 802D17A8 0029AD68  48 00 00 90 */	b lbl_802D1838
lbl_802D17AC:
/* 802D17AC 0029AD6C  1C 83 00 0C */	mulli r4, r3, 0xc
/* 802D17B0 0029AD70  7F 43 D3 78 */	mr r3, r26
/* 802D17B4 0029AD74  38 A1 00 08 */	addi r5, r1, 8
/* 802D17B8 0029AD78  38 C0 00 80 */	li r6, 0x80
/* 802D17BC 0029AD7C  7C 1C 20 2E */	lwzx r0, r28, r4
/* 802D17C0 0029AD80  7C 9C 22 14 */	add r4, r28, r4
/* 802D17C4 0029AD84  80 84 00 04 */	lwz r4, 4(r4)
/* 802D17C8 0029AD88  54 00 02 3E */	clrlwi r0, r0, 8
/* 802D17CC 0029AD8C  7F 47 02 14 */	add r26, r7, r0
/* 802D17D0 0029AD90  48 00 04 C1 */	bl entryToPath_7687
/* 802D17D4 0029AD94  28 03 00 80 */	cmplwi r3, 0x80
/* 802D17D8 0029AD98  7C 64 1B 78 */	mr r4, r3
/* 802D17DC 0029AD9C  40 82 00 08 */	bne lbl_802D17E4
/* 802D17E0 0029ADA0  48 00 00 58 */	b lbl_802D1838
lbl_802D17E4:
/* 802D17E4 0029ADA4  38 83 00 01 */	addi r4, r3, 1
/* 802D17E8 0029ADA8  38 A1 00 08 */	addi r5, r1, 8
/* 802D17EC 0029ADAC  38 00 00 2F */	li r0, 0x2f
/* 802D17F0 0029ADB0  7C 05 19 AE */	stbx r0, r5, r3
/* 802D17F4 0029ADB4  20 C4 00 80 */	subfic r6, r4, 0x80
/* 802D17F8 0029ADB8  7C A5 22 14 */	add r5, r5, r4
/* 802D17FC 0029ADBC  7C C3 33 78 */	mr r3, r6
/* 802D1800 0029ADC0  48 00 00 1C */	b lbl_802D181C
/* 802D1804 0029ADC4  60 00 00 00 */	nop 
lbl_802D1808:
/* 802D1808 0029ADC8  88 1A 00 00 */	lbz r0, 0(r26)
/* 802D180C 0029ADCC  3B 5A 00 01 */	addi r26, r26, 1
/* 802D1810 0029ADD0  98 05 00 00 */	stb r0, 0(r5)
/* 802D1814 0029ADD4  38 A5 00 01 */	addi r5, r5, 1
/* 802D1818 0029ADD8  38 63 FF FF */	addi r3, r3, -1
lbl_802D181C:
/* 802D181C 0029ADDC  2C 03 00 00 */	cmpwi r3, 0
/* 802D1820 0029ADE0  41 82 00 10 */	beq lbl_802D1830
/* 802D1824 0029ADE4  88 1A 00 00 */	lbz r0, 0(r26)
/* 802D1828 0029ADE8  7C 00 07 75 */	extsb. r0, r0
/* 802D182C 0029ADEC  40 82 FF DC */	bne lbl_802D1808
lbl_802D1830:
/* 802D1830 0029ADF0  7C 03 30 50 */	subf r0, r3, r6
/* 802D1834 0029ADF4  7C 84 02 14 */	add r4, r4, r0
lbl_802D1838:
/* 802D1838 0029ADF8  28 04 00 80 */	cmplwi r4, 0x80
/* 802D183C 0029ADFC  40 82 00 08 */	bne lbl_802D1844
/* 802D1840 0029AE00  48 00 00 58 */	b lbl_802D1898
lbl_802D1844:
/* 802D1844 0029AE04  38 A4 00 01 */	addi r5, r4, 1
/* 802D1848 0029AE08  38 61 00 08 */	addi r3, r1, 8
/* 802D184C 0029AE0C  38 00 00 2F */	li r0, 0x2f
/* 802D1850 0029AE10  7C 03 21 AE */	stbx r0, r3, r4
/* 802D1854 0029AE14  20 C5 00 80 */	subfic r6, r5, 0x80
/* 802D1858 0029AE18  7C 63 2A 14 */	add r3, r3, r5
/* 802D185C 0029AE1C  7C C4 33 78 */	mr r4, r6
/* 802D1860 0029AE20  48 00 00 1C */	b lbl_802D187C
/* 802D1864 0029AE24  60 00 00 00 */	nop 
lbl_802D1868:
/* 802D1868 0029AE28  88 1F 00 00 */	lbz r0, 0(r31)
/* 802D186C 0029AE2C  3B FF 00 01 */	addi r31, r31, 1
/* 802D1870 0029AE30  98 03 00 00 */	stb r0, 0(r3)
/* 802D1874 0029AE34  38 63 00 01 */	addi r3, r3, 1
/* 802D1878 0029AE38  38 84 FF FF */	addi r4, r4, -1
lbl_802D187C:
/* 802D187C 0029AE3C  2C 04 00 00 */	cmpwi r4, 0
/* 802D1880 0029AE40  41 82 00 10 */	beq lbl_802D1890
/* 802D1884 0029AE44  88 1F 00 00 */	lbz r0, 0(r31)
/* 802D1888 0029AE48  7C 00 07 75 */	extsb. r0, r0
/* 802D188C 0029AE4C  40 82 FF DC */	bne lbl_802D1868
lbl_802D1890:
/* 802D1890 0029AE50  7C 04 30 50 */	subf r0, r4, r6
/* 802D1894 0029AE54  7C 85 02 14 */	add r4, r5, r0
lbl_802D1898:
/* 802D1898 0029AE58  28 04 00 80 */	cmplwi r4, 0x80
/* 802D189C 0029AE5C  40 82 00 08 */	bne lbl_802D18A4
/* 802D18A0 0029AE60  48 00 00 58 */	b lbl_802D18F8
lbl_802D18A4:
/* 802D18A4 0029AE64  38 A4 00 01 */	addi r5, r4, 1
/* 802D18A8 0029AE68  38 61 00 08 */	addi r3, r1, 8
/* 802D18AC 0029AE6C  38 00 00 2F */	li r0, 0x2f
/* 802D18B0 0029AE70  7C 03 21 AE */	stbx r0, r3, r4
/* 802D18B4 0029AE74  20 C5 00 80 */	subfic r6, r5, 0x80
/* 802D18B8 0029AE78  7C 63 2A 14 */	add r3, r3, r5
/* 802D18BC 0029AE7C  7C C4 33 78 */	mr r4, r6
/* 802D18C0 0029AE80  48 00 00 1C */	b lbl_802D18DC
/* 802D18C4 0029AE84  60 00 00 00 */	nop 
lbl_802D18C8:
/* 802D18C8 0029AE88  88 1E 00 00 */	lbz r0, 0(r30)
/* 802D18CC 0029AE8C  3B DE 00 01 */	addi r30, r30, 1
/* 802D18D0 0029AE90  98 03 00 00 */	stb r0, 0(r3)
/* 802D18D4 0029AE94  38 63 00 01 */	addi r3, r3, 1
/* 802D18D8 0029AE98  38 84 FF FF */	addi r4, r4, -1
lbl_802D18DC:
/* 802D18DC 0029AE9C  2C 04 00 00 */	cmpwi r4, 0
/* 802D18E0 0029AEA0  41 82 00 10 */	beq lbl_802D18F0
/* 802D18E4 0029AEA4  88 1E 00 00 */	lbz r0, 0(r30)
/* 802D18E8 0029AEA8  7C 00 07 75 */	extsb. r0, r0
/* 802D18EC 0029AEAC  40 82 FF DC */	bne lbl_802D18C8
lbl_802D18F0:
/* 802D18F0 0029AEB0  7C 04 30 50 */	subf r0, r4, r6
/* 802D18F4 0029AEB4  7C 85 02 14 */	add r4, r5, r0
lbl_802D18F8:
/* 802D18F8 0029AEB8  28 04 00 80 */	cmplwi r4, 0x80
/* 802D18FC 0029AEBC  40 82 00 10 */	bne lbl_802D190C
/* 802D1900 0029AEC0  38 00 00 00 */	li r0, 0
/* 802D1904 0029AEC4  98 01 00 87 */	stb r0, 0x87(r1)
/* 802D1908 0029AEC8  48 00 00 48 */	b lbl_802D1950
lbl_802D190C:
/* 802D190C 0029AECC  1C 1D 00 0C */	mulli r0, r29, 0xc
/* 802D1910 0029AED0  7C 1C 00 2E */	lwzx r0, r28, r0
/* 802D1914 0029AED4  54 00 00 0F */	rlwinm. r0, r0, 0, 0, 7
/* 802D1918 0029AED8  41 82 00 2C */	beq lbl_802D1944
/* 802D191C 0029AEDC  28 04 00 7F */	cmplwi r4, 0x7f
/* 802D1920 0029AEE0  40 82 00 14 */	bne lbl_802D1934
/* 802D1924 0029AEE4  38 61 00 08 */	addi r3, r1, 8
/* 802D1928 0029AEE8  38 00 00 00 */	li r0, 0
/* 802D192C 0029AEEC  7C 03 21 AE */	stbx r0, r3, r4
/* 802D1930 0029AEF0  48 00 00 20 */	b lbl_802D1950
lbl_802D1934:
/* 802D1934 0029AEF4  38 61 00 08 */	addi r3, r1, 8
/* 802D1938 0029AEF8  38 00 00 2F */	li r0, 0x2f
/* 802D193C 0029AEFC  7C 03 21 AE */	stbx r0, r3, r4
/* 802D1940 0029AF00  38 84 00 01 */	addi r4, r4, 1
lbl_802D1944:
/* 802D1944 0029AF04  38 61 00 08 */	addi r3, r1, 8
/* 802D1948 0029AF08  38 00 00 00 */	li r0, 0
/* 802D194C 0029AF0C  7C 03 21 AE */	stbx r0, r3, r4
lbl_802D1950:
/* 802D1950 0029AF10  3C 60 80 54 */	lis r3, lbl_80540024@ha
/* 802D1954 0029AF14  7F 64 DB 78 */	mr r4, r27
/* 802D1958 0029AF18  38 63 00 24 */	addi r3, r3, lbl_80540024@l
/* 802D195C 0029AF1C  38 A1 00 08 */	addi r5, r1, 8
/* 802D1960 0029AF20  4C C6 31 82 */	crclr 6
/* 802D1964 0029AF24  48 08 35 8D */	bl OSReport
/* 802D1968 0029AF28  38 60 00 00 */	li r3, 0
/* 802D196C 0029AF2C  48 00 00 38 */	b lbl_802D19A4
lbl_802D1970:
/* 802D1970 0029AF30  1C 63 00 0C */	mulli r3, r3, 0xc
/* 802D1974 0029AF34  7C 1C 18 2E */	lwzx r0, r28, r3
/* 802D1978 0029AF38  54 00 00 0F */	rlwinm. r0, r0, 0, 0, 7
/* 802D197C 0029AF3C  41 82 00 0C */	beq lbl_802D1988
/* 802D1980 0029AF40  38 60 00 00 */	li r3, 0
/* 802D1984 0029AF44  48 00 00 20 */	b lbl_802D19A4
lbl_802D1988:
/* 802D1988 0029AF48  93 5D 00 00 */	stw r26, 0(r29)
/* 802D198C 0029AF4C  7C 9C 1A 14 */	add r4, r28, r3
/* 802D1990 0029AF50  38 60 00 01 */	li r3, 1
/* 802D1994 0029AF54  80 04 00 04 */	lwz r0, 4(r4)
/* 802D1998 0029AF58  90 1D 00 04 */	stw r0, 4(r29)
/* 802D199C 0029AF5C  80 04 00 08 */	lwz r0, 8(r4)
/* 802D19A0 0029AF60  90 1D 00 08 */	stw r0, 8(r29)
lbl_802D19A4:
/* 802D19A4 0029AF64  39 61 00 A0 */	addi r11, r1, 0xa0
/* 802D19A8 0029AF68  4B FE 87 F5 */	bl _restgpr_26
/* 802D19AC 0029AF6C  80 01 00 A4 */	lwz r0, 0xa4(r1)
/* 802D19B0 0029AF70  7C 08 03 A6 */	mtlr r0
/* 802D19B4 0029AF74  38 21 00 A0 */	addi r1, r1, 0xa0
/* 802D19B8 0029AF78  4E 80 00 20 */	blr 
/* 802D19BC 0029AF7C  00 00 00 00 */	.4byte 0x00000000  /* unknown instruction */