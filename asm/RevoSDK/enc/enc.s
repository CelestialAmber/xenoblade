.include "macros.inc"

.section .text, "ax"  # 0x80039220 - 0x804F5900

.balign 16, 0
.global ENCConvertStringSjisToUnicode
ENCConvertStringSjisToUnicode:
/* 80312EF0 002DC4B0  38 E0 00 00 */	li r7, 0
/* 80312EF4 002DC4B4  48 00 00 1C */	b ENCiConvertStringSjisToUnicode

.balign 16, 0
.global ENCConvertStringUnicodeToSjis
ENCConvertStringUnicodeToSjis:
/* 80312F00 002DC4C0  38 E0 00 00 */	li r7, 0
/* 80312F04 002DC4C4  48 00 03 7C */	b ENCiConvertStringUnicodeToSjis


.balign 16, 0
.global ENCiConvertStringSjisToUnicode
ENCiConvertStringSjisToUnicode:
/* 80312F10 002DC4D0  94 21 FF B0 */	stwu r1, -0x50(r1)
/* 80312F14 002DC4D4  7C 08 02 A6 */	mflr r0
/* 80312F18 002DC4D8  90 01 00 54 */	stw r0, 0x54(r1)
/* 80312F1C 002DC4DC  39 61 00 50 */	addi r11, r1, 0x50
/* 80312F20 002DC4E0  4B FA 72 19 */	bl _savegpr_20
/* 80312F24 002DC4E4  7C B7 2B 78 */	mr r23, r5
/* 80312F28 002DC4E8  7C D8 33 78 */	mr r24, r6
/* 80312F2C 002DC4EC  7C A3 00 D0 */	neg r5, r3
/* 80312F30 002DC4F0  38 C0 FF FF */	li r6, -1
/* 80312F34 002DC4F4  39 20 00 01 */	li r9, 1
/* 80312F38 002DC4F8  7C 17 00 D0 */	neg r0, r23
/* 80312F3C 002DC4FC  90 C1 00 14 */	stw r6, 0x14(r1)
/* 80312F40 002DC500  7C A5 1B 78 */	or r5, r5, r3
/* 80312F44 002DC504  7C 75 1B 78 */	mr r21, r3
/* 80312F48 002DC508  7C 00 BB 78 */	or r0, r0, r23
/* 80312F4C 002DC50C  90 C1 00 10 */	stw r6, 0x10(r1)
/* 80312F50 002DC510  7C F9 3B 78 */	mr r25, r7
/* 80312F54 002DC514  54 A3 0F FE */	srwi r3, r5, 0x1f
/* 80312F58 002DC518  7C 96 23 78 */	mr r22, r4
/* 80312F5C 002DC51C  91 21 00 0C */	stw r9, 0xc(r1)
/* 80312F60 002DC520  7F 08 C3 78 */	mr r8, r24
/* 80312F64 002DC524  38 A1 00 10 */	addi r5, r1, 0x10
/* 80312F68 002DC528  38 C1 00 0C */	addi r6, r1, 0xc
/* 80312F6C 002DC52C  91 21 00 08 */	stw r9, 8(r1)
/* 80312F70 002DC530  54 07 0F FE */	srwi r7, r0, 0x1f
/* 80312F74 002DC534  39 21 00 14 */	addi r9, r1, 0x14
/* 80312F78 002DC538  39 41 00 08 */	addi r10, r1, 8
/* 80312F7C 002DC53C  3B A0 00 00 */	li r29, 0
/* 80312F80 002DC540  3B 80 00 00 */	li r28, 0
/* 80312F84 002DC544  4B FF FD 2D */	bl ENCiCheckParameters
/* 80312F88 002DC548  2C 03 00 00 */	cmpwi r3, 0
/* 80312F8C 002DC54C  7C 7B 1B 78 */	mr r27, r3
/* 80312F90 002DC550  41 82 00 08 */	beq lbl_80312F98
/* 80312F94 002DC554  48 00 02 D4 */	b lbl_80313268
lbl_80312F98:
/* 80312F98 002DC558  80 0D 98 40 */	lwz r0, lbl_806659C0@sda21(r13)
/* 80312F9C 002DC55C  2C 00 00 00 */	cmpwi r0, 0
/* 80312FA0 002DC560  40 82 00 0C */	bne lbl_80312FAC
/* 80312FA4 002DC564  38 60 FF FE */	li r3, -2
/* 80312FA8 002DC568  48 00 02 C0 */	b lbl_80313268
lbl_80312FAC:
/* 80312FAC 002DC56C  3C 60 80 51 */	lis r3, lbl_8050E400@ha
/* 80312FB0 002DC570  3F E0 00 01 */	lis r31, 1
/* 80312FB4 002DC574  3B C3 E4 00 */	addi r30, r3, lbl_8050E400@l
/* 80312FB8 002DC578  48 00 02 70 */	b lbl_80313228
lbl_80312FBC:
/* 80312FBC 002DC57C  80 01 00 10 */	lwz r0, 0x10(r1)
/* 80312FC0 002DC580  7C 1C 00 00 */	cmpw r28, r0
/* 80312FC4 002DC584  41 80 00 18 */	blt lbl_80312FDC
/* 80312FC8 002DC588  80 01 00 0C */	lwz r0, 0xc(r1)
/* 80312FCC 002DC58C  2C 00 00 00 */	cmpwi r0, 0
/* 80312FD0 002DC590  41 82 00 0C */	beq lbl_80312FDC
/* 80312FD4 002DC594  3B 60 FF FF */	li r27, -1
/* 80312FD8 002DC598  48 00 02 74 */	b lbl_8031324C
lbl_80312FDC:
/* 80312FDC 002DC59C  2C 19 00 00 */	cmpwi r25, 0
/* 80312FE0 002DC5A0  40 81 00 A8 */	ble lbl_80313088
/* 80312FE4 002DC5A4  7C 1D 18 50 */	subf r0, r29, r3
/* 80312FE8 002DC5A8  7F 43 D3 78 */	mr r3, r26
/* 80312FEC 002DC5AC  2C 00 00 01 */	cmpwi r0, 1
/* 80312FF0 002DC5B0  38 80 00 00 */	li r4, 0
/* 80312FF4 002DC5B4  41 81 00 10 */	bgt lbl_80313004
/* 80312FF8 002DC5B8  80 01 00 08 */	lwz r0, 8(r1)
/* 80312FFC 002DC5BC  2C 00 00 00 */	cmpwi r0, 0
/* 80313000 002DC5C0  40 82 00 08 */	bne lbl_80313008
lbl_80313004:
/* 80313004 002DC5C4  38 80 00 01 */	li r4, 1
lbl_80313008:
/* 80313008 002DC5C8  2C 04 00 00 */	cmpwi r4, 0
/* 8031300C 002DC5CC  41 82 00 0C */	beq lbl_80313018
/* 80313010 002DC5D0  88 97 00 01 */	lbz r4, 1(r23)
/* 80313014 002DC5D4  48 00 00 08 */	b lbl_8031301C
lbl_80313018:
/* 80313018 002DC5D8  38 80 00 00 */	li r4, 0
lbl_8031301C:
/* 8031301C 002DC5DC  4B FF FD 95 */	bl ENCiCheckBreakType
/* 80313020 002DC5E0  2C 03 00 00 */	cmpwi r3, 0
/* 80313024 002DC5E4  7C 74 1B 78 */	mr r20, r3
/* 80313028 002DC5E8  40 81 00 60 */	ble lbl_80313088
/* 8031302C 002DC5EC  80 C1 00 0C */	lwz r6, 0xc(r1)
/* 80313030 002DC5F0  7E A3 AB 78 */	mr r3, r21
/* 80313034 002DC5F4  7F 25 CB 78 */	mr r5, r25
/* 80313038 002DC5F8  38 80 00 02 */	li r4, 2
/* 8031303C 002DC5FC  4B FF FD B5 */	bl ENCiWriteBreakType
/* 80313040 002DC600  80 01 00 10 */	lwz r0, 0x10(r1)
/* 80313044 002DC604  7C 1C 00 50 */	subf r0, r28, r0
/* 80313048 002DC608  7C 00 18 00 */	cmpw r0, r3
/* 8031304C 002DC60C  40 80 00 18 */	bge lbl_80313064
/* 80313050 002DC610  80 01 00 0C */	lwz r0, 0xc(r1)
/* 80313054 002DC614  2C 00 00 00 */	cmpwi r0, 0
/* 80313058 002DC618  41 82 00 0C */	beq lbl_80313064
/* 8031305C 002DC61C  3B 60 FF FF */	li r27, -1
/* 80313060 002DC620  48 00 01 EC */	b lbl_8031324C
lbl_80313064:
/* 80313064 002DC624  80 01 00 0C */	lwz r0, 0xc(r1)
/* 80313068 002DC628  7E F7 A2 14 */	add r23, r23, r20
/* 8031306C 002DC62C  7F BD A2 14 */	add r29, r29, r20
/* 80313070 002DC630  7F 9C 1A 14 */	add r28, r28, r3
/* 80313074 002DC634  2C 00 00 00 */	cmpwi r0, 0
/* 80313078 002DC638  41 82 01 B0 */	beq lbl_80313228
/* 8031307C 002DC63C  54 60 08 3C */	slwi r0, r3, 1
/* 80313080 002DC640  7E B5 02 14 */	add r21, r21, r0
/* 80313084 002DC644  48 00 01 A4 */	b lbl_80313228
lbl_80313088:
/* 80313088 002DC648  38 1A 00 7F */	addi r0, r26, 0x7f
/* 8031308C 002DC64C  54 00 06 3E */	clrlwi r0, r0, 0x18
/* 80313090 002DC650  28 00 00 1E */	cmplwi r0, 0x1e
/* 80313094 002DC654  40 81 00 14 */	ble lbl_803130A8
/* 80313098 002DC658  38 1A 00 20 */	addi r0, r26, 0x20
/* 8031309C 002DC65C  54 00 06 3E */	clrlwi r0, r0, 0x18
/* 803130A0 002DC660  28 00 00 1C */	cmplwi r0, 0x1c
/* 803130A4 002DC664  41 81 00 EC */	bgt lbl_80313190
lbl_803130A8:
/* 803130A8 002DC668  80 01 00 14 */	lwz r0, 0x14(r1)
/* 803130AC 002DC66C  7C 1D 00 50 */	subf r0, r29, r0
/* 803130B0 002DC670  2C 00 00 02 */	cmpwi r0, 2
/* 803130B4 002DC674  40 80 00 10 */	bge lbl_803130C4
/* 803130B8 002DC678  80 01 00 08 */	lwz r0, 8(r1)
/* 803130BC 002DC67C  2C 00 00 00 */	cmpwi r0, 0
/* 803130C0 002DC680  40 82 01 8C */	bne lbl_8031324C
lbl_803130C4:
/* 803130C4 002DC684  8C 97 00 01 */	lbzu r4, 1(r23)
/* 803130C8 002DC688  38 04 00 C0 */	addi r0, r4, 0xc0
/* 803130CC 002DC68C  54 00 06 3E */	clrlwi r0, r0, 0x18
/* 803130D0 002DC690  28 00 00 3E */	cmplwi r0, 0x3e
/* 803130D4 002DC694  40 81 00 14 */	ble lbl_803130E8
/* 803130D8 002DC698  38 04 00 80 */	addi r0, r4, 0x80
/* 803130DC 002DC69C  54 00 06 3E */	clrlwi r0, r0, 0x18
/* 803130E0 002DC6A0  28 00 00 7C */	cmplwi r0, 0x7c
/* 803130E4 002DC6A4  41 81 00 9C */	bgt lbl_80313180
lbl_803130E8:
/* 803130E8 002DC6A8  28 1A 00 F0 */	cmplwi r26, 0xf0
/* 803130EC 002DC6AC  40 80 00 38 */	bge lbl_80313124
/* 803130F0 002DC6B0  28 1A 00 A0 */	cmplwi r26, 0xa0
/* 803130F4 002DC6B4  38 7A FF 3F */	addi r3, r26, -193
/* 803130F8 002DC6B8  40 80 00 08 */	bge lbl_80313100
/* 803130FC 002DC6BC  38 7A FF 7F */	addi r3, r26, -129
lbl_80313100:
/* 80313100 002DC6C0  28 04 00 7F */	cmplwi r4, 0x7f
/* 80313104 002DC6C4  38 04 FF BF */	addi r0, r4, -65
/* 80313108 002DC6C8  1C 63 00 BC */	mulli r3, r3, 0xbc
/* 8031310C 002DC6CC  40 80 00 08 */	bge lbl_80313114
/* 80313110 002DC6D0  38 04 FF C0 */	addi r0, r4, -64
lbl_80313114:
/* 80313114 002DC6D4  7C 03 02 14 */	add r0, r3, r0
/* 80313118 002DC6D8  54 00 08 3C */	slwi r0, r0, 1
/* 8031311C 002DC6DC  7F 5E 02 2E */	lhzx r26, r30, r0
/* 80313120 002DC6E0  48 00 00 68 */	b lbl_80313188
lbl_80313124:
/* 80313124 002DC6E4  28 1A 00 FA */	cmplwi r26, 0xfa
/* 80313128 002DC6E8  41 80 00 2C */	blt lbl_80313154
/* 8031312C 002DC6EC  38 1A FF 35 */	addi r0, r26, -203
/* 80313130 002DC6F0  28 04 00 7F */	cmplwi r4, 0x7f
/* 80313134 002DC6F4  1C 60 00 BC */	mulli r3, r0, 0xbc
/* 80313138 002DC6F8  38 04 FF BF */	addi r0, r4, -65
/* 8031313C 002DC6FC  40 80 00 08 */	bge lbl_80313144
/* 80313140 002DC700  38 04 FF C0 */	addi r0, r4, -64
lbl_80313144:
/* 80313144 002DC704  7C 03 02 14 */	add r0, r3, r0
/* 80313148 002DC708  54 00 08 3C */	slwi r0, r0, 1
/* 8031314C 002DC70C  7F 5E 02 2E */	lhzx r26, r30, r0
/* 80313150 002DC710  48 00 00 38 */	b lbl_80313188
lbl_80313154:
/* 80313154 002DC714  38 1A FF 10 */	addi r0, r26, -240
/* 80313158 002DC718  28 04 00 7F */	cmplwi r4, 0x7f
/* 8031315C 002DC71C  1C 60 00 BC */	mulli r3, r0, 0xbc
/* 80313160 002DC720  38 04 FF BF */	addi r0, r4, -65
/* 80313164 002DC724  40 80 00 08 */	bge lbl_8031316C
/* 80313168 002DC728  38 04 FF C0 */	addi r0, r4, -64
lbl_8031316C:
/* 8031316C 002DC72C  7C 63 02 14 */	add r3, r3, r0
/* 80313170 002DC730  3C 63 00 01 */	addis r3, r3, 1
/* 80313174 002DC734  38 03 E0 00 */	addi r0, r3, -8192
/* 80313178 002DC738  54 1A 04 3E */	clrlwi r26, r0, 0x10
/* 8031317C 002DC73C  48 00 00 0C */	b lbl_80313188
lbl_80313180:
/* 80313180 002DC740  3B 60 FF FC */	li r27, -4
/* 80313184 002DC744  48 00 00 C8 */	b lbl_8031324C
lbl_80313188:
/* 80313188 002DC748  3B BD 00 01 */	addi r29, r29, 1
/* 8031318C 002DC74C  48 00 00 6C */	b lbl_803131F8
lbl_80313190:
/* 80313190 002DC750  28 1A 00 E0 */	cmplwi r26, 0xe0
/* 80313194 002DC754  40 80 00 1C */	bge lbl_803131B0
/* 80313198 002DC758  28 1A 00 A0 */	cmplwi r26, 0xa0
/* 8031319C 002DC75C  41 82 00 2C */	beq lbl_803131C8
/* 803131A0 002DC760  40 80 00 30 */	bge lbl_803131D0
/* 803131A4 002DC764  28 1A 00 81 */	cmplwi r26, 0x81
/* 803131A8 002DC768  40 80 00 28 */	bge lbl_803131D0
/* 803131AC 002DC76C  48 00 00 4C */	b lbl_803131F8
lbl_803131B0:
/* 803131B0 002DC770  28 1A 01 00 */	cmplwi r26, 0x100
/* 803131B4 002DC774  40 80 00 44 */	bge lbl_803131F8
/* 803131B8 002DC778  28 1A 00 FD */	cmplwi r26, 0xfd
/* 803131BC 002DC77C  40 80 00 24 */	bge lbl_803131E0
/* 803131C0 002DC780  48 00 00 30 */	b lbl_803131F0
/* 803131C4 002DC784  48 00 00 34 */	b lbl_803131F8
lbl_803131C8:
/* 803131C8 002DC788  3B 5F F8 F0 */	addi r26, r31, -1808
/* 803131CC 002DC78C  48 00 00 2C */	b lbl_803131F8
lbl_803131D0:
/* 803131D0 002DC790  3C 7A 00 01 */	addis r3, r26, 1
/* 803131D4 002DC794  38 03 FE C0 */	addi r0, r3, -320
/* 803131D8 002DC798  54 1A 04 3E */	clrlwi r26, r0, 0x10
/* 803131DC 002DC79C  48 00 00 1C */	b lbl_803131F8
lbl_803131E0:
/* 803131E0 002DC7A0  3C 7A 00 01 */	addis r3, r26, 1
/* 803131E4 002DC7A4  38 03 F7 F4 */	addi r0, r3, -2060
/* 803131E8 002DC7A8  54 1A 04 3E */	clrlwi r26, r0, 0x10
/* 803131EC 002DC7AC  48 00 00 0C */	b lbl_803131F8
lbl_803131F0:
/* 803131F0 002DC7B0  3B 60 FF FC */	li r27, -4
/* 803131F4 002DC7B4  48 00 00 58 */	b lbl_8031324C
lbl_803131F8:
/* 803131F8 002DC7B8  57 40 04 3F */	clrlwi. r0, r26, 0x10
/* 803131FC 002DC7BC  40 82 00 0C */	bne lbl_80313208
/* 80313200 002DC7C0  3B 60 FF FE */	li r27, -2
/* 80313204 002DC7C4  48 00 00 48 */	b lbl_8031324C
lbl_80313208:
/* 80313208 002DC7C8  80 01 00 0C */	lwz r0, 0xc(r1)
/* 8031320C 002DC7CC  2C 00 00 00 */	cmpwi r0, 0
/* 80313210 002DC7D0  41 82 00 0C */	beq lbl_8031321C
/* 80313214 002DC7D4  B3 55 00 00 */	sth r26, 0(r21)
/* 80313218 002DC7D8  3A B5 00 02 */	addi r21, r21, 2
lbl_8031321C:
/* 8031321C 002DC7DC  3B 9C 00 01 */	addi r28, r28, 1
/* 80313220 002DC7E0  3A F7 00 01 */	addi r23, r23, 1
/* 80313224 002DC7E4  3B BD 00 01 */	addi r29, r29, 1
lbl_80313228:
/* 80313228 002DC7E8  8B 57 00 00 */	lbz r26, 0(r23)
/* 8031322C 002DC7EC  2C 1A 00 00 */	cmpwi r26, 0
/* 80313230 002DC7F0  41 82 00 1C */	beq lbl_8031324C
/* 80313234 002DC7F4  80 61 00 14 */	lwz r3, 0x14(r1)
/* 80313238 002DC7F8  7C 1D 18 00 */	cmpw r29, r3
/* 8031323C 002DC7FC  41 80 FD 80 */	blt lbl_80312FBC
/* 80313240 002DC800  80 01 00 08 */	lwz r0, 8(r1)
/* 80313244 002DC804  2C 00 00 00 */	cmpwi r0, 0
/* 80313248 002DC808  41 82 FD 74 */	beq lbl_80312FBC
lbl_8031324C:
/* 8031324C 002DC80C  2C 18 00 00 */	cmpwi r24, 0
/* 80313250 002DC810  41 82 00 08 */	beq lbl_80313258
/* 80313254 002DC814  93 B8 00 00 */	stw r29, 0(r24)
lbl_80313258:
/* 80313258 002DC818  2C 16 00 00 */	cmpwi r22, 0
/* 8031325C 002DC81C  41 82 00 08 */	beq lbl_80313264
/* 80313260 002DC820  93 96 00 00 */	stw r28, 0(r22)
lbl_80313264:
/* 80313264 002DC824  7F 63 DB 78 */	mr r3, r27
lbl_80313268:
/* 80313268 002DC828  39 61 00 50 */	addi r11, r1, 0x50
/* 8031326C 002DC82C  4B FA 6F 19 */	bl _restgpr_20
/* 80313270 002DC830  80 01 00 54 */	lwz r0, 0x54(r1)
/* 80313274 002DC834  7C 08 03 A6 */	mtlr r0
/* 80313278 002DC838  38 21 00 50 */	addi r1, r1, 0x50
/* 8031327C 002DC83C  4E 80 00 20 */	blr

.balign 16, 0
.global ENCiConvertStringUnicodeToSjis
ENCiConvertStringUnicodeToSjis:
/* 80313280 002DC840  94 21 FF B0 */	stwu r1, -0x50(r1)
/* 80313284 002DC844  7C 08 02 A6 */	mflr r0
/* 80313288 002DC848  90 01 00 54 */	stw r0, 0x54(r1)
/* 8031328C 002DC84C  39 61 00 50 */	addi r11, r1, 0x50
/* 80313290 002DC850  4B FA 6E B1 */	bl _savegpr_22
/* 80313294 002DC854  7C BA 2B 78 */	mr r26, r5
/* 80313298 002DC858  7C DB 33 78 */	mr r27, r6
/* 8031329C 002DC85C  7C A3 00 D0 */	neg r5, r3
/* 803132A0 002DC860  38 C0 FF FF */	li r6, -1
/* 803132A4 002DC864  39 20 00 01 */	li r9, 1
/* 803132A8 002DC868  7C 1A 00 D0 */	neg r0, r26
/* 803132AC 002DC86C  90 C1 00 18 */	stw r6, 0x18(r1)
/* 803132B0 002DC870  7C A5 1B 78 */	or r5, r5, r3
/* 803132B4 002DC874  7C 78 1B 78 */	mr r24, r3
/* 803132B8 002DC878  7C 00 D3 78 */	or r0, r0, r26
/* 803132BC 002DC87C  90 C1 00 14 */	stw r6, 0x14(r1)
/* 803132C0 002DC880  7C FC 3B 78 */	mr r28, r7
/* 803132C4 002DC884  54 A3 0F FE */	srwi r3, r5, 0x1f
/* 803132C8 002DC888  7C 99 23 78 */	mr r25, r4
/* 803132CC 002DC88C  91 21 00 10 */	stw r9, 0x10(r1)
/* 803132D0 002DC890  7F 68 DB 78 */	mr r8, r27
/* 803132D4 002DC894  38 A1 00 14 */	addi r5, r1, 0x14
/* 803132D8 002DC898  38 C1 00 10 */	addi r6, r1, 0x10
/* 803132DC 002DC89C  91 21 00 0C */	stw r9, 0xc(r1)
/* 803132E0 002DC8A0  54 07 0F FE */	srwi r7, r0, 0x1f
/* 803132E4 002DC8A4  39 21 00 18 */	addi r9, r1, 0x18
/* 803132E8 002DC8A8  39 41 00 0C */	addi r10, r1, 0xc
/* 803132EC 002DC8AC  3B E0 00 00 */	li r31, 0
/* 803132F0 002DC8B0  3B C0 00 00 */	li r30, 0
/* 803132F4 002DC8B4  4B FF F9 BD */	bl ENCiCheckParameters
/* 803132F8 002DC8B8  2C 03 00 00 */	cmpwi r3, 0
/* 803132FC 002DC8BC  7C 7D 1B 78 */	mr r29, r3
/* 80313300 002DC8C0  41 82 00 08 */	beq lbl_80313308
/* 80313304 002DC8C4  48 00 02 0C */	b lbl_80313510
lbl_80313308:
/* 80313308 002DC8C8  80 0D 98 40 */	lwz r0, lbl_806659C0@sda21(r13)
/* 8031330C 002DC8CC  2C 00 00 00 */	cmpwi r0, 0
/* 80313310 002DC8D0  40 82 00 0C */	bne lbl_8031331C
/* 80313314 002DC8D4  38 60 FF FE */	li r3, -2
/* 80313318 002DC8D8  48 00 01 F8 */	b lbl_80313510
lbl_8031331C:
/* 8031331C 002DC8DC  80 01 00 18 */	lwz r0, 0x18(r1)
/* 80313320 002DC8E0  2C 00 00 00 */	cmpwi r0, 0
/* 80313324 002DC8E4  41 81 00 10 */	bgt lbl_80313334
/* 80313328 002DC8E8  80 01 00 0C */	lwz r0, 0xc(r1)
/* 8031332C 002DC8EC  2C 00 00 00 */	cmpwi r0, 0
/* 80313330 002DC8F0  40 82 01 A0 */	bne lbl_803134D0
lbl_80313334:
/* 80313334 002DC8F4  A0 1A 00 00 */	lhz r0, 0(r26)
/* 80313338 002DC8F8  28 00 FE FF */	cmplwi r0, 0xfeff
/* 8031333C 002DC8FC  40 82 00 10 */	bne lbl_8031334C
/* 80313340 002DC900  3B E0 00 01 */	li r31, 1
/* 80313344 002DC904  3B 5A 00 02 */	addi r26, r26, 2
/* 80313348 002DC908  48 00 01 88 */	b lbl_803134D0
lbl_8031334C:
/* 8031334C 002DC90C  28 00 FF FE */	cmplwi r0, 0xfffe
/* 80313350 002DC910  40 82 01 80 */	bne lbl_803134D0
/* 80313354 002DC914  2C 19 00 00 */	cmpwi r25, 0
/* 80313358 002DC918  41 82 00 0C */	beq lbl_80313364
/* 8031335C 002DC91C  38 00 00 00 */	li r0, 0
/* 80313360 002DC920  90 19 00 00 */	stw r0, 0(r25)
lbl_80313364:
/* 80313364 002DC924  38 00 00 00 */	li r0, 0
/* 80313368 002DC928  90 1B 00 00 */	stw r0, 0(r27)
/* 8031336C 002DC92C  38 60 FF FC */	li r3, -4
/* 80313370 002DC930  48 00 01 A0 */	b lbl_80313510
/* 80313374 002DC934  48 00 01 5C */	b lbl_803134D0
lbl_80313378:
/* 80313378 002DC938  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8031337C 002DC93C  7C 1E 00 00 */	cmpw r30, r0
/* 80313380 002DC940  41 80 00 18 */	blt lbl_80313398
/* 80313384 002DC944  80 01 00 10 */	lwz r0, 0x10(r1)
/* 80313388 002DC948  2C 00 00 00 */	cmpwi r0, 0
/* 8031338C 002DC94C  41 82 00 0C */	beq lbl_80313398
/* 80313390 002DC950  3B A0 FF FF */	li r29, -1
/* 80313394 002DC954  48 00 01 60 */	b lbl_803134F4
lbl_80313398:
/* 80313398 002DC958  2C 1C 00 00 */	cmpwi r28, 0
/* 8031339C 002DC95C  40 81 00 A8 */	ble lbl_80313444
/* 803133A0 002DC960  7C 1F 18 50 */	subf r0, r31, r3
/* 803133A4 002DC964  7E C3 B3 78 */	mr r3, r22
/* 803133A8 002DC968  2C 00 00 01 */	cmpwi r0, 1
/* 803133AC 002DC96C  38 80 00 00 */	li r4, 0
/* 803133B0 002DC970  41 81 00 10 */	bgt lbl_803133C0
/* 803133B4 002DC974  80 01 00 0C */	lwz r0, 0xc(r1)
/* 803133B8 002DC978  2C 00 00 00 */	cmpwi r0, 0
/* 803133BC 002DC97C  40 82 00 08 */	bne lbl_803133C4
lbl_803133C0:
/* 803133C0 002DC980  38 80 00 01 */	li r4, 1
lbl_803133C4:
/* 803133C4 002DC984  2C 04 00 00 */	cmpwi r4, 0
/* 803133C8 002DC988  41 82 00 0C */	beq lbl_803133D4
/* 803133CC 002DC98C  A0 9A 00 02 */	lhz r4, 2(r26)
/* 803133D0 002DC990  48 00 00 08 */	b lbl_803133D8
lbl_803133D4:
/* 803133D4 002DC994  38 80 00 00 */	li r4, 0
lbl_803133D8:
/* 803133D8 002DC998  4B FF F9 D9 */	bl ENCiCheckBreakType
/* 803133DC 002DC99C  2C 03 00 00 */	cmpwi r3, 0
/* 803133E0 002DC9A0  7C 77 1B 78 */	mr r23, r3
/* 803133E4 002DC9A4  40 81 00 60 */	ble lbl_80313444
/* 803133E8 002DC9A8  80 C1 00 10 */	lwz r6, 0x10(r1)
/* 803133EC 002DC9AC  7F 03 C3 78 */	mr r3, r24
/* 803133F0 002DC9B0  7F 85 E3 78 */	mr r5, r28
/* 803133F4 002DC9B4  38 80 00 01 */	li r4, 1
/* 803133F8 002DC9B8  4B FF F9 F9 */	bl ENCiWriteBreakType
/* 803133FC 002DC9BC  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80313400 002DC9C0  7C 1E 00 50 */	subf r0, r30, r0
/* 80313404 002DC9C4  7C 00 18 00 */	cmpw r0, r3
/* 80313408 002DC9C8  40 80 00 18 */	bge lbl_80313420
/* 8031340C 002DC9CC  80 01 00 10 */	lwz r0, 0x10(r1)
/* 80313410 002DC9D0  2C 00 00 00 */	cmpwi r0, 0
/* 80313414 002DC9D4  41 82 00 0C */	beq lbl_80313420
/* 80313418 002DC9D8  3B A0 FF FF */	li r29, -1
/* 8031341C 002DC9DC  48 00 00 D8 */	b lbl_803134F4
lbl_80313420:
/* 80313420 002DC9E0  80 01 00 10 */	lwz r0, 0x10(r1)
/* 80313424 002DC9E4  56 E4 08 3C */	slwi r4, r23, 1
/* 80313428 002DC9E8  7F 5A 22 14 */	add r26, r26, r4
/* 8031342C 002DC9EC  7F FF BA 14 */	add r31, r31, r23
/* 80313430 002DC9F0  2C 00 00 00 */	cmpwi r0, 0
/* 80313434 002DC9F4  7F DE 1A 14 */	add r30, r30, r3
/* 80313438 002DC9F8  41 82 00 98 */	beq lbl_803134D0
/* 8031343C 002DC9FC  7F 18 1A 14 */	add r24, r24, r3
/* 80313440 002DCA00  48 00 00 90 */	b lbl_803134D0
lbl_80313444:
/* 80313444 002DCA04  7E C4 B3 78 */	mr r4, r22
/* 80313448 002DCA08  38 61 00 08 */	addi r3, r1, 8
/* 8031344C 002DCA0C  48 00 00 E5 */	bl ENCiConvertUnicodeToSjis
/* 80313450 002DCA10  88 61 00 08 */	lbz r3, 8(r1)
/* 80313454 002DCA14  88 81 00 09 */	lbz r4, 9(r1)
/* 80313458 002DCA18  2C 03 00 00 */	cmpwi r3, 0
/* 8031345C 002DCA1C  40 82 00 0C */	bne lbl_80313468
/* 80313460 002DCA20  3B A0 FF FE */	li r29, -2
/* 80313464 002DCA24  48 00 00 90 */	b lbl_803134F4
lbl_80313468:
/* 80313468 002DCA28  2C 04 00 00 */	cmpwi r4, 0
/* 8031346C 002DCA2C  40 82 00 1C */	bne lbl_80313488
/* 80313470 002DCA30  80 01 00 10 */	lwz r0, 0x10(r1)
/* 80313474 002DCA34  2C 00 00 00 */	cmpwi r0, 0
/* 80313478 002DCA38  41 82 00 4C */	beq lbl_803134C4
/* 8031347C 002DCA3C  98 78 00 00 */	stb r3, 0(r24)
/* 80313480 002DCA40  3B 18 00 01 */	addi r24, r24, 1
/* 80313484 002DCA44  48 00 00 40 */	b lbl_803134C4
lbl_80313488:
/* 80313488 002DCA48  80 01 00 10 */	lwz r0, 0x10(r1)
/* 8031348C 002DCA4C  2C 00 00 00 */	cmpwi r0, 0
/* 80313490 002DCA50  41 82 00 30 */	beq lbl_803134C0
/* 80313494 002DCA54  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80313498 002DCA58  7C 1E 00 50 */	subf r0, r30, r0
/* 8031349C 002DCA5C  2C 00 00 02 */	cmpwi r0, 2
/* 803134A0 002DCA60  40 80 00 0C */	bge lbl_803134AC
/* 803134A4 002DCA64  3B A0 FF FF */	li r29, -1
/* 803134A8 002DCA68  48 00 00 4C */	b lbl_803134F4
lbl_803134AC:
/* 803134AC 002DCA6C  98 78 00 00 */	stb r3, 0(r24)
/* 803134B0 002DCA70  3B DE 00 01 */	addi r30, r30, 1
/* 803134B4 002DCA74  98 98 00 01 */	stb r4, 1(r24)
/* 803134B8 002DCA78  3B 18 00 02 */	addi r24, r24, 2
/* 803134BC 002DCA7C  48 00 00 08 */	b lbl_803134C4
lbl_803134C0:
/* 803134C0 002DCA80  3B DE 00 01 */	addi r30, r30, 1
lbl_803134C4:
/* 803134C4 002DCA84  3B DE 00 01 */	addi r30, r30, 1
/* 803134C8 002DCA88  3B 5A 00 02 */	addi r26, r26, 2
/* 803134CC 002DCA8C  3B FF 00 01 */	addi r31, r31, 1
lbl_803134D0:
/* 803134D0 002DCA90  A2 DA 00 00 */	lhz r22, 0(r26)
/* 803134D4 002DCA94  2C 16 00 00 */	cmpwi r22, 0
/* 803134D8 002DCA98  41 82 00 1C */	beq lbl_803134F4
/* 803134DC 002DCA9C  80 61 00 18 */	lwz r3, 0x18(r1)
/* 803134E0 002DCAA0  7C 1F 18 00 */	cmpw r31, r3
/* 803134E4 002DCAA4  41 80 FE 94 */	blt lbl_80313378
/* 803134E8 002DCAA8  80 01 00 0C */	lwz r0, 0xc(r1)
/* 803134EC 002DCAAC  2C 00 00 00 */	cmpwi r0, 0
/* 803134F0 002DCAB0  41 82 FE 88 */	beq lbl_80313378
lbl_803134F4:
/* 803134F4 002DCAB4  2C 1B 00 00 */	cmpwi r27, 0
/* 803134F8 002DCAB8  41 82 00 08 */	beq lbl_80313500
/* 803134FC 002DCABC  93 FB 00 00 */	stw r31, 0(r27)
lbl_80313500:
/* 80313500 002DCAC0  2C 19 00 00 */	cmpwi r25, 0
/* 80313504 002DCAC4  41 82 00 08 */	beq lbl_8031350C
/* 80313508 002DCAC8  93 D9 00 00 */	stw r30, 0(r25)
lbl_8031350C:
/* 8031350C 002DCACC  7F A3 EB 78 */	mr r3, r29
lbl_80313510:
/* 80313510 002DCAD0  39 61 00 50 */	addi r11, r1, 0x50
/* 80313514 002DCAD4  4B FA 6C 79 */	bl _restgpr_22
/* 80313518 002DCAD8  80 01 00 54 */	lwz r0, 0x54(r1)
/* 8031351C 002DCADC  7C 08 03 A6 */	mtlr r0
/* 80313520 002DCAE0  38 21 00 50 */	addi r1, r1, 0x50
/* 80313524 002DCAE4  4E 80 00 20 */	blr 

.balign 16, 0
.global ENCiConvertUnicodeToSjis
ENCiConvertUnicodeToSjis:
/* 80313530 002DCAF0  28 04 00 80 */	cmplwi r4, 0x80
/* 80313534 002DCAF4  40 80 00 14 */	bge lbl_80313548
/* 80313538 002DCAF8  38 00 00 00 */	li r0, 0
/* 8031353C 002DCAFC  98 83 00 00 */	stb r4, 0(r3)
/* 80313540 002DCB00  98 03 00 01 */	stb r0, 1(r3)
/* 80313544 002DCB04  4E 80 00 20 */	blr
lbl_80313548:
/* 80313548 002DCB08  38 04 00 9F */	addi r0, r4, 0x9f
/* 8031354C 002DCB0C  54 00 04 3E */	clrlwi r0, r0, 0x10
/* 80313550 002DCB10  28 00 00 3E */	cmplwi r0, 0x3e
/* 80313554 002DCB14  41 81 00 1C */	bgt lbl_80313570
/* 80313558 002DCB18  3C 84 FF FF */	addis r4, r4, 0xffff
/* 8031355C 002DCB1C  38 00 00 00 */	li r0, 0
/* 80313560 002DCB20  38 84 01 40 */	addi r4, r4, 0x140
/* 80313564 002DCB24  98 83 00 00 */	stb r4, 0(r3)
/* 80313568 002DCB28  98 03 00 01 */	stb r0, 1(r3)
/* 8031356C 002DCB2C  4E 80 00 20 */	blr
lbl_80313570:
/* 80313570 002DCB30  38 04 28 00 */	addi r0, r4, 0x2800
/* 80313574 002DCB34  54 00 04 3E */	clrlwi r0, r0, 0x10
/* 80313578 002DCB38  28 00 20 FF */	cmplwi r0, 0x20ff
/* 8031357C 002DCB3C  40 81 00 08 */	ble lbl_80313584
/* 80313580 002DCB40  48 00 00 B0 */	b ENCiFindSjisFromUnicode
lbl_80313584:
/* 80313584 002DCB44  38 04 20 00 */	addi r0, r4, 0x2000
/* 80313588 002DCB48  54 00 04 3E */	clrlwi r0, r0, 0x10
/* 8031358C 002DCB4C  28 00 07 57 */	cmplwi r0, 0x757
/* 80313590 002DCB50  41 81 00 50 */	bgt lbl_803135E0
/* 80313594 002DCB54  3C A4 FF FF */	addis r5, r4, 0xffff
/* 80313598 002DCB58  3C 80 AE 4C */	lis r4, 0xAE4C415D@ha
/* 8031359C 002DCB5C  38 84 41 5D */	addi r4, r4, 0xAE4C415D@l
/* 803135A0 002DCB60  38 A5 20 00 */	addi r5, r5, 0x2000
/* 803135A4 002DCB64  7C 04 28 16 */	mulhwu r0, r4, r5
/* 803135A8 002DCB68  54 00 C9 FE */	srwi r0, r0, 7
/* 803135AC 002DCB6C  1C 00 00 BC */	mulli r0, r0, 0xbc
/* 803135B0 002DCB70  7C C0 28 50 */	subf r6, r0, r5
/* 803135B4 002DCB74  7C 06 28 50 */	subf r0, r6, r5
/* 803135B8 002DCB78  7C 84 00 16 */	mulhwu r4, r4, r0
/* 803135BC 002DCB7C  28 06 00 3F */	cmplwi r6, 0x3f
/* 803135C0 002DCB80  38 06 00 41 */	addi r0, r6, 0x41
/* 803135C4 002DCB84  54 84 C9 FE */	srwi r4, r4, 7
/* 803135C8 002DCB88  38 84 00 F0 */	addi r4, r4, 0xf0
/* 803135CC 002DCB8C  98 83 00 00 */	stb r4, 0(r3)
/* 803135D0 002DCB90  40 80 00 08 */	bge lbl_803135D8
/* 803135D4 002DCB94  38 06 00 40 */	addi r0, r6, 0x40
lbl_803135D8:
/* 803135D8 002DCB98  98 03 00 01 */	stb r0, 1(r3)
/* 803135DC 002DCB9C  4E 80 00 20 */	blr
lbl_803135E0:
/* 803135E0 002DCBA0  38 04 07 10 */	addi r0, r4, 0x710
/* 803135E4 002DCBA4  54 00 04 3E */	clrlwi r0, r0, 0x10
/* 803135E8 002DCBA8  28 00 00 03 */	cmplwi r0, 3
/* 803135EC 002DCBAC  41 81 00 30 */	bgt lbl_8031361C
/* 803135F0 002DCBB0  28 04 F8 F0 */	cmplwi r4, 0xf8f0
/* 803135F4 002DCBB4  40 82 00 10 */	bne lbl_80313604
/* 803135F8 002DCBB8  38 00 00 A0 */	li r0, 0xa0
/* 803135FC 002DCBBC  98 03 00 00 */	stb r0, 0(r3)
/* 80313600 002DCBC0  48 00 00 10 */	b lbl_80313610
lbl_80313604:
/* 80313604 002DCBC4  3C 84 FF FF */	addis r4, r4, 0xffff
/* 80313608 002DCBC8  38 04 08 0C */	addi r0, r4, 0x80c
/* 8031360C 002DCBCC  98 03 00 00 */	stb r0, 0(r3)
lbl_80313610:
/* 80313610 002DCBD0  38 00 00 00 */	li r0, 0
/* 80313614 002DCBD4  98 03 00 01 */	stb r0, 1(r3)
/* 80313618 002DCBD8  4E 80 00 20 */	blr
lbl_8031361C:
/* 8031361C 002DCBDC  38 00 00 00 */	li r0, 0
/* 80313620 002DCBE0  98 03 00 01 */	stb r0, 1(r3)
/* 80313624 002DCBE4  98 03 00 00 */	stb r0, 0(r3)
/* 80313628 002DCBE8  4E 80 00 20 */	blr

.balign 16, 0
.global ENCiFindSjisFromUnicode
ENCiFindSjisFromUnicode:
/* 80313630 002DCBF0  54 87 06 3F */	clrlwi. r7, r4, 0x18
/* 80313634 002DCBF4  54 86 C6 3E */	rlwinm r6, r4, 0x18, 0x18, 0x1f
/* 80313638 002DCBF8  41 82 00 1C */	beq lbl_80313654
/* 8031363C 002DCBFC  38 07 FF FF */	addi r0, r7, -1
/* 80313640 002DCC00  3C 80 80 52 */	lis r4, lbl_80518468@ha
/* 80313644 002DCC04  54 00 08 3C */	slwi r0, r0, 1
/* 80313648 002DCC08  38 84 84 68 */	addi r4, r4, lbl_80518468@l
/* 8031364C 002DCC0C  7D 04 02 2E */	lhzx r8, r4, r0
/* 80313650 002DCC10  48 00 00 08 */	b lbl_80313658
lbl_80313654:
/* 80313654 002DCC14  39 00 00 00 */	li r8, 0
lbl_80313658:
/* 80313658 002DCC18  3C A0 80 52 */	lis r5, lbl_80518468@ha
/* 8031365C 002DCC1C  3C 80 80 51 */	lis r4, lbl_80512D70@ha
/* 80313660 002DCC20  54 E0 0D FC */	rlwinm r0, r7, 1, 0x17, 0x1e
/* 80313664 002DCC24  38 A5 84 68 */	addi r5, r5, lbl_80518468@l
/* 80313668 002DCC28  38 84 2D 70 */	addi r4, r4, lbl_80512D70@l
/* 8031366C 002DCC2C  7C A5 02 2E */	lhzx r5, r5, r0
/* 80313670 002DCC30  38 E5 FF FF */	addi r7, r5, -1
/* 80313674 002DCC34  48 00 00 5C */	b lbl_803136D0
lbl_80313678:
/* 80313678 002DCC38  7C A8 3A 14 */	add r5, r8, r7
/* 8031367C 002DCC3C  54 A0 0F FE */	srwi r0, r5, 0x1f
/* 80313680 002DCC40  7C 00 2A 14 */	add r0, r0, r5
/* 80313684 002DCC44  7C 09 0E 70 */	srawi r9, r0, 1
/* 80313688 002DCC48  54 00 08 3A */	rlwinm r0, r0, 1, 0, 0x1d
/* 8031368C 002DCC4C  7C 09 00 50 */	subf r0, r9, r0
/* 80313690 002DCC50  7C A4 02 14 */	add r5, r4, r0
/* 80313694 002DCC54  7D 44 00 AE */	lbzx r10, r4, r0
/* 80313698 002DCC58  7C 04 00 AE */	lbzx r0, r4, r0
/* 8031369C 002DCC5C  7C 00 30 40 */	cmplw r0, r6
/* 803136A0 002DCC60  40 82 00 18 */	bne lbl_803136B8
/* 803136A4 002DCC64  88 85 00 01 */	lbz r4, 1(r5)
/* 803136A8 002DCC68  88 05 00 02 */	lbz r0, 2(r5)
/* 803136AC 002DCC6C  98 83 00 00 */	stb r4, 0(r3)
/* 803136B0 002DCC70  98 03 00 01 */	stb r0, 1(r3)
/* 803136B4 002DCC74  4E 80 00 20 */	blr
lbl_803136B8:
/* 803136B8 002DCC78  7C 0A 30 00 */	cmpw r10, r6
/* 803136BC 002DCC7C  40 81 00 0C */	ble lbl_803136C8
/* 803136C0 002DCC80  7D 27 4B 78 */	mr r7, r9
/* 803136C4 002DCC84  48 00 00 0C */	b lbl_803136D0
lbl_803136C8:
/* 803136C8 002DCC88  40 80 00 08 */	bge lbl_803136D0
/* 803136CC 002DCC8C  7D 28 4B 78 */	mr r8, r9
lbl_803136D0:
/* 803136D0 002DCC90  7C 08 38 50 */	subf r0, r8, r7
/* 803136D4 002DCC94  2C 00 00 01 */	cmpwi r0, 1
/* 803136D8 002DCC98  41 81 FF A0 */	bgt lbl_80313678
/* 803136DC 002DCC9C  55 00 10 3A */	slwi r0, r8, 2
/* 803136E0 002DCCA0  3C 80 80 51 */	lis r4, lbl_80512D70@ha
/* 803136E4 002DCCA4  7C 08 00 50 */	subf r0, r8, r0
/* 803136E8 002DCCA8  38 84 2D 70 */	addi r4, r4, lbl_80512D70@l
/* 803136EC 002DCCAC  7C A4 02 14 */	add r5, r4, r0
/* 803136F0 002DCCB0  7C 04 00 AE */	lbzx r0, r4, r0
/* 803136F4 002DCCB4  7C 00 30 40 */	cmplw r0, r6
/* 803136F8 002DCCB8  40 82 00 18 */	bne lbl_80313710
/* 803136FC 002DCCBC  88 85 00 01 */	lbz r4, 1(r5)
/* 80313700 002DCCC0  88 05 00 02 */	lbz r0, 2(r5)
/* 80313704 002DCCC4  98 83 00 00 */	stb r4, 0(r3)
/* 80313708 002DCCC8  98 03 00 01 */	stb r0, 1(r3)
/* 8031370C 002DCCCC  4E 80 00 20 */	blr
lbl_80313710:
/* 80313710 002DCCD0  54 E0 10 3A */	slwi r0, r7, 2
/* 80313714 002DCCD4  7C 07 00 50 */	subf r0, r7, r0
/* 80313718 002DCCD8  7C A4 02 14 */	add r5, r4, r0
/* 8031371C 002DCCDC  7C 04 00 AE */	lbzx r0, r4, r0
/* 80313720 002DCCE0  7C 00 30 40 */	cmplw r0, r6
/* 80313724 002DCCE4  40 82 00 18 */	bne lbl_8031373C
/* 80313728 002DCCE8  88 85 00 01 */	lbz r4, 1(r5)
/* 8031372C 002DCCEC  88 05 00 02 */	lbz r0, 2(r5)
/* 80313730 002DCCF0  98 83 00 00 */	stb r4, 0(r3)
/* 80313734 002DCCF4  98 03 00 01 */	stb r0, 1(r3)
/* 80313738 002DCCF8  4E 80 00 20 */	blr
lbl_8031373C:
/* 8031373C 002DCCFC  38 00 00 00 */	li r0, 0
/* 80313740 002DCD00  98 03 00 01 */	stb r0, 1(r3)
/* 80313744 002DCD04  98 03 00 00 */	stb r0, 0(r3)
/* 80313748 002DCD08  4E 80 00 20 */	blr 